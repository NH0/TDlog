{% extends 'base.html' %}

{% block content %}

{% for article in articleList %}
<div class="container">
  <div class="row">
    <div class="col-lg-12" >
      <h1>{{ article.title|e }}</h1>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-12">
      <p><strong>Search : </strong>{{ searchedKeywords }}</p>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-12">
      <p><strong>Source website: </strong><a href="{{ article.site_name }}"><span style="color: rgb(37,48,64)">{{ article.site_name }}</span></a></p>
    </div>
  </div>
  {% if sources != [] %}
  <div class="row">
    <div class="col-lg-12">
      <p><strong>Article url: </strong><a href="{{ article.source_url }}"><span style="color: rgb(37,48,64)">{{ article.source_url }}</span></a></p>
    </div>
  </div>
  {% endif %}
  <!-- <div class="row">
    <div class="col-lg-12">
      <p><em>{{ authors }}</em></p>
    </div>
  </div> -->
  <div class="row">
    <div class="col-lg-8">
      <p>   {{ article.text|e }}</p>
    </div>
  </div>

  {% if article.nbVotes > 0 %}
    <p> This article is rated {{ article.note }}/5 by users. </p>
    {% else %}
    <p> This article is not yet rated by users. </p>
  {% endif %}

  <form id="form-rate" idA="{{ article.idarticle }}">
    Let us know your preferences ! Rate this article
    <select required id="note">
      <option value="0">0</option>
      <option value="1">1</option>
      <option value="2">2</option>
      <option selected value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
    </select> stars.
    <input type="button" value="Rate !">
  </form>

 <div id="flash-messages">
  {% with messages = get_flashed_messages() %}
    {% if messages %}
      {% for message in messages %}
      <div class="row">
        <div class="col-lg-12">
          <p><span style="font-size: 12px">{{ message }}</span></p>
        </div>
      </div>
      {% endfor %}
    {% endif %}
  {% endwith %}
  </div>
  
  <script type="text/javascript" src="/static/js/ratings.js"></script>

  <hr color="blue">
</div>


{% endfor %}

{% endblock %}
