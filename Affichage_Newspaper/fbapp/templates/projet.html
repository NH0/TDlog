{% extends 'base.html' %}

{% block content %}

{% for article in articleList %}
<div class="container">
  <div class="row">
    <div class="col-lg-12" >
      <h1>{{ article.title|e }}</h1>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-12">
      <p><strong>Search : </strong>{{ searchedKeywords }}</p>
    </div>
  </div>
  {% if sources != [] %}
  <div class="row">
    <div class="col-lg-12">
      <p><strong>Source website: </strong><a href="{{ article.url }}"><span style="color: rgb(37,48,64)">{{ article.url }}</span></a></p>
    </div>
  </div>
  {% endif %}
  <!-- <div class="row">
    <div class="col-lg-12">
      <p><em>{{ authors }}</em></p>
    </div>
  </div> -->
  <div class="row">
    <div class="col-lg-8">
      <p>   {{ article.text|e }}</p>
    </div>
  </div>
  <hr color="blue">
</div>
{% if article.nbVotes > 0 %}
<p> This article is rated {{ article.note }}/5 by users. </p>
{% else %}
<p> This article is not yet rated by users. </p>
{% endif %}
  <form action="/rateArticle/{{ article.idarticle }}" method="POST"> <!--enlever l'action -->
    Let us know your preferences ! Rate this article
    <select required name="note">
      <option value="0">0</option>
      <option value="1">1</option>
      <option value="2">2</option>
      <option selected value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
    </select> stars.
    <input type="submit" value="Rate !"> <!--ajouter attribue onclick="nomFctJS(article.id)" nomFctJS devra utiliser une autre fct pour recup valeur de select en jquery
    ("note").val() faire JSON AJAX ou bien document.getElementById("note") get.JSON{nomderoute, {...}}-->
  </form>

{% endfor %}

{% endblock %}
